const a="user_auth_state";function r(){if(typeof window>"u"||typeof localStorage>"u")return null;try{const t=localStorage.getItem(a);if(t)return JSON.parse(t)}catch(t){console.warn("Failed to load auth state from localStorage:",t);try{localStorage.removeItem(a)}catch(e){console.warn("Failed to clear corrupted auth data:",e)}}return null}function o(t){if(!(typeof window>"u"||typeof localStorage>"u"))try{localStorage.setItem(a,JSON.stringify(t))}catch(e){console.warn("Failed to save auth state to localStorage:",e)}}function u(t,e){o({name:t,phone:e,isAuthenticated:!0,isGuest:!1})}function c(){o({name:"Гость",phone:"",isAuthenticated:!1,isGuest:!0})}function s(){if(!(typeof window>"u"||typeof localStorage>"u"))try{localStorage.removeItem(a)}catch(t){console.warn("Failed to clear auth state:",t)}}function i(){const t=r();return(t==null?void 0:t.isAuthenticated)===!0||(t==null?void 0:t.isGuest)===!0}export{u as a,c,r as g,i,s as l};
