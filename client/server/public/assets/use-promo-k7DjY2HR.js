import{r as d,h as a}from"./index-Bl7s4VzA.js";const p=[{code:"ПЕРВЫЙ",discount:20,description:"Скидка 20% на первый заказ",isActive:!0},{code:"ДРУЗЬЯМ",discount:15,description:"Скидка 15% для друзей",isActive:!0},{code:"ЛЕТОМ",discount:10,description:"Летняя скидка 10%",isActive:!0}];function v(){const[o,i]=d.useState(null),{toast:s}=a(),n=t=>{const e=p.find(c=>c.code.toUpperCase()===t.toUpperCase()&&c.isActive);return e?(i(e),s({title:"Промокод применен!",description:`${e.description}. Скидка ${e.discount}%`}),!0):(s({title:"Ошибка",description:"Промокод не найден или неактивен",variant:"destructive"}),!1)},u=()=>{i(null),s({title:"Промокод удален",description:"Скидка отменена"})},r=t=>o?t*o.discount/100:0;return{appliedPromo:o,applyPromoCode:n,removePromoCode:u,calculateDiscount:r,calculateTotal:t=>t-r(t)}}export{v as u};
