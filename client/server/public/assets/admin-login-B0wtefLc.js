import{s as h,r as o,h as g,j as e,f,I as c,B as j}from"./index-Bl7s4VzA.js";import{C as w,b,c as y,a as v}from"./card-BQhqkSgn.js";import{E as N}from"./eye-off-BHx-9Aap.js";import{E as C}from"./eye-BlXai0ML.js";function T(){const[,m]=h(),[a,i]=o.useState({username:"",password:""}),[r,u]=o.useState(!1),[l,d]=o.useState(!1),{toast:n}=g(),p=async s=>{s.preventDefault(),d(!0);try{const t=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(t.ok){const x=await t.json();localStorage.setItem("adminToken",x.token),n({title:"Вход выполнен",description:"Добро пожаловать в панель управления"}),m("/admin/orders")}else n({title:"Ошибка входа",description:"Неверный логин или пароль",variant:"destructive"})}catch{n({title:"Ошибка сети",description:"Не удалось подключиться к серверу",variant:"destructive"})}d(!1)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-agent-purple/10 to-bright-orange/10 flex items-center justify-center p-4",children:e.jsxs(w,{className:"w-full max-w-md",children:[e.jsxs(b,{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-agent-purple rounded-full flex items-center justify-center",children:e.jsx(f,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx(y,{className:"text-2xl font-bold text-gray-900",children:"Административная панель"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Вход для сотрудников ДУЧАРХА"})]})]}),e.jsx(v,{children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Логин"}),e.jsx(c,{id:"username",type:"text",value:a.username,onChange:s=>i(t=>({...t,username:s.target.value})),placeholder:"Введите логин",required:!0,"data-testid":"input-username",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Пароль"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:"password",type:r?"text":"password",value:a.password,onChange:s=>i(t=>({...t,password:s.target.value})),placeholder:"Введите пароль",required:!0,"data-testid":"input-password",className:"w-full pr-10"}),e.jsx("button",{type:"button",onClick:()=>u(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","data-testid":"button-toggle-password",children:r?e.jsx(N,{className:"w-4 h-4"}):e.jsx(C,{className:"w-4 h-4"})})]})]}),e.jsx(j,{type:"submit",disabled:l,className:"w-full bg-agent-purple hover:bg-agent-purple/90","data-testid":"button-login",children:l?"Вход...":"Войти в систему"})]})})]})})}export{T as default};
