import{k as N,r as o,j as e,L as y,P as v,I as b,B as x,t as w,H as k}from"./index-Bl7s4VzA.js";import{D as A,a as D,b as S,c as M,d as C,e as I}from"./dialog-DCOcG2c2.js";import{T}from"./textarea-BsUlHnI9.js";import{L as i}from"./label-s7AvLBDK.js";import{R as L,a as h}from"./radio-group-CsLAOZ8n.js";import{A as E}from"./arrow-left-Dp1lr5Kg.js";import{T as F}from"./trash-2-B9XP7aVc.js";import"./index-B7K4-hLV.js";import"./index-1mwFcY8h.js";import"./index-C2xba8IL.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=N("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);function Q(){const[l,c]=o.useState([]),[m,n]=o.useState(!1),[t,d]=o.useState({title:"",address:"",type:"home"}),p=()=>{if(t.title&&t.address){const s={id:Date.now().toString(),...t,isDefault:l.length===0},a=[...l,s];c(a);try{localStorage.setItem("user-addresses",JSON.stringify(a))}catch(r){console.error("Error saving addresses to localStorage:",r)}d({title:"",address:"",type:"home"}),n(!1)}},u=s=>{const a=l.filter(r=>r.id!==s);c(a);try{localStorage.setItem("user-addresses",JSON.stringify(a))}catch(r){console.error("Error saving addresses to localStorage:",r)}},j=s=>{const a=l.map(r=>({...r,isDefault:r.id===s}));c(a);try{localStorage.setItem("user-addresses",JSON.stringify(a))}catch(r){console.error("Error saving addresses to localStorage:",r)}},g=s=>{switch(s){case"home":return k;case"work":return B;default:return w}},f=s=>{switch(s){case"home":return"Дом";case"work":return"Работа";default:return"Другое"}};return e.jsxs("main",{className:"pb-20",children:[e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-40",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{href:"/profile",children:e.jsx("button",{className:"mr-3 p-2 -ml-2",children:e.jsx(E,{className:"w-6 h-6 text-gray-600"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Адреса доставки"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[l.length," адресов"]})]})]}),e.jsxs(A,{open:m,onOpenChange:n,children:[e.jsx(D,{asChild:!0,children:e.jsx("button",{className:"bg-agent-purple text-white p-2 rounded-lg",children:e.jsx(v,{className:"w-5 h-5"})})}),e.jsxs(S,{className:"max-w-md mx-auto",children:[e.jsxs(M,{children:[e.jsx(C,{children:"Добавить адрес"}),e.jsx(I,{children:"Добавьте новый адрес доставки для быстрого оформления заказов"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title",children:"Название"}),e.jsx(b,{id:"title",placeholder:"Дом, Работа, Дача...",value:t.title,onChange:s=>d({...t,title:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"address",children:"Адрес"}),e.jsx(T,{id:"address",placeholder:"Введите полный адрес",value:t.address,onChange:s=>d({...t,address:s.target.value}),className:"min-h-[80px]"})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Тип адреса"}),e.jsxs(L,{value:t.type,onValueChange:s=>d({...t,type:s}),className:"flex flex-row space-x-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{value:"home",id:"home"}),e.jsx(i,{htmlFor:"home",children:"Дом"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{value:"work",id:"work"}),e.jsx(i,{htmlFor:"work",children:"Работа"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{value:"other",id:"other"}),e.jsx(i,{htmlFor:"other",children:"Другое"})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(x,{variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Отмена"}),e.jsx(x,{onClick:p,className:"flex-1 bg-agent-purple hover:bg-agent-purple/90",disabled:!t.title||!t.address,children:"Добавить"})]})]})]})]})]})}),e.jsx("section",{className:"p-4 space-y-3",children:l.map(s=>{const a=g(s.type);return e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"bg-electric-green/10 p-2 rounded-lg",children:e.jsx(a,{className:"w-5 h-5 text-electric-green"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.title}),s.isDefault&&e.jsx("span",{className:"bg-agent-purple text-white text-xs px-2 py-1 rounded-full",children:"По умолчанию"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.address}),e.jsx("p",{className:"text-xs text-gray-500",children:f(s.type)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!s.isDefault&&e.jsx("button",{onClick:()=>j(s.id),className:"text-agent-purple text-sm font-medium",children:"По умолчанию"}),e.jsx("button",{onClick:()=>u(s.id),className:"text-red-500 p-1",children:e.jsx(F,{className:"w-4 h-4"})})]})]})},s.id)})}),e.jsx("section",{className:"p-4",children:e.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Совет"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Добавьте несколько адресов для быстрого выбора при оформлении заказа. Адрес по умолчанию будет автоматически выбран при оформлении."})]})})]})}export{Q as default};
