const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/profile-DmcYDizo.js","assets/index-Bl7s4VzA.js","assets/index-C62EJJPL.css","assets/auth-state-B9eIdUwI.js","assets/pwa-utils-3wKQgzN6.js","assets/smartphone-anWcFTs4.js","assets/app-header-Ch0F_p7N.js","assets/dialog-DCOcG2c2.js","assets/index-B7K4-hLV.js","assets/index-1mwFcY8h.js","assets/index-BdQq_4o_.js","assets/badge-B1g9d3Tj.js","assets/bell-BieROCbd.js","assets/log-out-Dr9lMJEl.js","assets/credit-card-BWVPYKp3.js","assets/circle-help-DSCW-f3j.js"])))=>i.map(i=>d[i]);
import{k as f,r as a,h as y,j as e,U as x,I as p,B as h,s as N,_ as v}from"./index-Bl7s4VzA.js";import{a as k,c as w,i as B}from"./auth-state-B9eIdUwI.js";import{A as j}from"./app-header-Ch0F_p7N.js";import{P as A}from"./phone-uZX2edXA.js";import"./dialog-DCOcG2c2.js";import"./index-B7K4-hLV.js";import"./index-1mwFcY8h.js";import"./index-BdQq_4o_.js";import"./badge-B1g9d3Tj.js";import"./bell-BieROCbd.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=f("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=f("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function X({onAuthComplete:i,onBack:l}){const[c,o]=a.useState(!1),[t,r]=a.useState({name:"",phone:""}),{toast:s}=y(),u=n=>{if(n.preventDefault(),!t.name.trim()){s({title:"Ошибка",description:"Пожалуйста, введите ваше имя",variant:"destructive"});return}if(!t.phone.trim()){s({title:"Ошибка",description:"Пожалуйста, введите номер телефона",variant:"destructive"});return}k(t.name.trim(),t.phone.trim()),s({title:"Добро пожаловать!",description:`Рады видеть вас, ${t.name}`}),i()},d=()=>{w(),s({title:"Добро пожаловать!",description:"Вы продолжаете как гость"}),i()},b=()=>{o(!1),r({name:"",phone:""})};return c?e.jsxs("main",{className:"min-h-screen bg-background pb-20",children:[e.jsx(j,{title:"Войти в профиль",showBack:!0,onBack:b}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"bg-white dark:bg-card rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-[#5B21B6] bg-opacity-10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(x,{className:"w-8 h-8 text-[#5B21B6]"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Создание профиля"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Введите ваши данные для создания персонального профиля"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(x,{className:"w-4 h-4 inline mr-2"}),"Ваше имя"]}),e.jsx(p,{"data-testid":"input-name",value:t.name,onChange:n=>r(m=>({...m,name:n.target.value})),placeholder:"Введите ваше имя",className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(A,{className:"w-4 h-4 inline mr-2"}),"Номер телефона"]}),e.jsx(p,{"data-testid":"input-phone",value:t.phone,onChange:n=>r(m=>({...m,phone:n.target.value})),placeholder:"Например: +992 XX XXX XX XX",className:"w-full"})]}),e.jsxs(h,{"data-testid":"button-submit-login",type:"submit",className:"w-full bg-[#5B21B6] hover:bg-[#4C1D95] text-white",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Войти в профиль"]})]})]})})]}):e.jsxs("main",{className:"min-h-screen bg-background pb-20",children:[e.jsx(j,{title:"Профиль",showBack:!!l,onBack:l}),e.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-140px)] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-card rounded-xl p-6 shadow-sm w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-[#5B21B6] bg-opacity-10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(x,{className:"w-10 h-10 text-[#5B21B6]"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Добро пожаловать!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Выберите способ использования приложения"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(h,{"data-testid":"button-login-profile",onClick:()=>o(!0),className:"w-full bg-[#5B21B6] hover:bg-[#4C1D95] text-white h-14",children:[e.jsx(g,{className:"w-5 h-5 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Войти в профиль"}),e.jsx("div",{className:"text-sm opacity-90",children:"Создать персональный аккаунт"})]})]}),e.jsxs(h,{"data-testid":"button-continue-guest",onClick:d,variant:"outline",className:"w-full border-2 border-gray-200 dark:border-gray-600 h-14",children:[e.jsx(L,{className:"w-5 h-5 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Продолжить как гость"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Использовать без регистрации"})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Вы можете изменить это позже в настройках профиля"})})]})})]})}const C=a.lazy(()=>v(()=>import("./profile-DmcYDizo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])));function H(){const[,i]=N(),[l,c]=a.useState(!1),[o,t]=a.useState(!0);a.useEffect(()=>{(()=>{const d=B();c(d),t(!1)})()},[]);const r=()=>{c(!0)},s=()=>{i("/")};return o?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center pb-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5B21B6] mx-auto"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Загрузка..."})]})}):l?e.jsx(C,{}):e.jsx(X,{onAuthComplete:r,onBack:s})}export{H as default};
