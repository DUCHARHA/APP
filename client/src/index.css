@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Enhanced light theme colors with better contrast and consistency */
  --background: hsl(220 14% 98%);
  --foreground: hsl(220 8.9% 15%);
  --card: hsl(0 0% 100%);
  --card-foreground: hsl(220 8.9% 15%);
  --popover: hsl(0 0% 100%);
  --popover-foreground: hsl(220 8.9% 15%);
  --primary: hsl(262.1 83.3% 57.8%);
  --primary-foreground: hsl(0 0% 100%);
  --secondary: hsl(220 14.3% 95.9%);
  --secondary-foreground: hsl(220.9 39.3% 11%);
  --muted: hsl(220 14.3% 95.9%);
  --muted-foreground: hsl(220 8.9% 46.1%);
  --accent: hsl(220 14.3% 95.9%);
  --accent-foreground: hsl(262.1 83.3% 57.8%);
  --destructive: hsl(0 84.2% 60.2%);
  --destructive-foreground: hsl(0 0% 100%);
  --border: hsl(220 13% 91%);
  --input: hsl(220 13% 91%);
  --ring: hsl(262.1 83.3% 57.8%);
  --chart-1: hsl(262.1 83.3% 57.8%);
  --chart-2: hsl(159.7826 100% 36.0784%);
  --chart-3: hsl(42.0290 92.8251% 56.2745%);
  --chart-4: hsl(147.1429 78.5047% 41.9608%);
  --chart-5: hsl(341.4894 75.2000% 50.9804%);
  --radius: 0.75rem;

  /* Enhanced brand colors with smooth transitions */
  --agent-purple: hsl(271 89% 40%);
  --electric-green: hsl(158.1 64.4% 51.6%);
  --bright-orange: hsl(24.6 95% 53.1%);
  --font-inter: 'Inter', system-ui, sans-serif;

  /* Enhanced success, warning, info colors */
  --success: hsl(142.1 76.2% 36.3%);
  --success-foreground: hsl(355.7 100% 97.3%);
  --warning: hsl(32.6 94.6% 43.7%);
  --warning-foreground: hsl(355.7 100% 97.3%);
  --info: hsl(217.2 91.2% 59.8%);
  --info-foreground: hsl(355.7 100% 97.3%);

  /* Custom user preference slots */
  --user-primary: var(--primary);
  --user-accent: var(--electric-green);
  --user-background: var(--background);

  /* Enhanced gradient colors */
  --gradient-start: hsl(262.1 83.3% 57.8%);
  --gradient-middle: hsl(243.4 75.4% 58.6%);
  --gradient-end: hsl(262.1 83.3% 57.8%);
}

.dark {
  /* Enhanced dark theme colors with better contrast and consistency */
  --background: hsl(220 14.3% 4.1%);
  --foreground: hsl(220 5.9% 90%);
  --card: hsl(220 12.9% 5.7%);
  --card-foreground: hsl(220 5.9% 90%);
  --popover: hsl(220 12.9% 5.7%);
  --popover-foreground: hsl(220 5.9% 90%);
  --primary: hsl(262.1 83.3% 57.8%);
  --primary-foreground: hsl(0 0% 100%);
  --secondary: hsl(220 14.3% 11%);
  --secondary-foreground: hsl(220 5.9% 90%);
  --muted: hsl(220 14.3% 11%);
  --muted-foreground: hsl(220 5.9% 65.1%);
  --accent: hsl(220 14.3% 11%);
  --accent-foreground: hsl(262.1 83.3% 67.8%);
  --destructive: hsl(0 84.2% 60.2%);
  --destructive-foreground: hsl(0 0% 100%);
  --border: hsl(220 13% 16%);
  --input: hsl(220 13% 16%);
  --ring: hsl(262.1 83.3% 57.8%);

  /* Enhanced success, warning, info colors for dark theme */
  --success: hsl(142.1 70.6% 45.3%);
  --success-foreground: hsl(144.9 80.4% 10%);
  --warning: hsl(32.6 94.6% 43.7%);
  --warning-foreground: hsl(20.5 90.2% 48.2%);
  --info: hsl(217.2 91.2% 59.8%);
  --info-foreground: hsl(222.2 84% 4.9%);

  /* Enhanced gradient colors for dark theme */
  --gradient-start: hsl(262.1 83.3% 47.8%);
  --gradient-middle: hsl(243.4 75.4% 48.6%);
  --gradient-end: hsl(262.1 83.3% 47.8%);
}

@layer base {
  * {
    @apply border-border;
    /* Smooth transitions for all elements */
    transition: background-color 200ms ease-in-out, 
                border-color 200ms ease-in-out, 
                color 200ms ease-in-out, 
                box-shadow 200ms ease-in-out;
  }

  body {
    @apply bg-background text-foreground font-inter antialiased;
    /* Smooth theme transition for body */
    transition: background-color 300ms ease-in-out, color 300ms ease-in-out;
  }

  /* Hide scrollbar for PWA native experience - mobile only */
  @media (max-width: 768px) {
    * {
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* Internet Explorer 10+ */
    }

    *::-webkit-scrollbar {
      display: none; /* Safari and Chrome */
    }
  }

  /* Поддержка цветов status bar */
  html {
    --status-bar-color: #5B21B6;
    --ios-status-bar-bg: #5B21B6;
  }

  /* Для iOS PWA - цвет фона под status bar */
  @supports (-webkit-touch-callout: none) {
    body {
      padding-top: env(safe-area-inset-top, 0);
      background: linear-gradient(to bottom, var(--ios-status-bar-bg) 0, var(--ios-status-bar-bg) env(safe-area-inset-top, 0), var(--background) env(safe-area-inset-top, 0));
    }
  }

  /* Для Android PWA */
  @media (display-mode: standalone) {
    body {
      background-color: var(--status-bar-color);
    }

    .max-w-md {
      background-color: var(--background);
    }
  }
}

@layer components {
  .gradient-hero {
    background: linear-gradient(135deg, var(--primary) 0%, hsl(243.4 75.4% 58.6%) 50%, var(--primary) 100%);
    position: relative;
  }

  .gradient-hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, transparent 0%, hsl(0 0% 100% / 0.1) 50%, transparent 100%);
    animation: shimmer 3s ease-in-out infinite;
  }

  @keyframes shimmer {
    0%, 100% { transform: translateX(-100%); }
    50% { transform: translateX(100%); }
  }

  .delivery-pulse {
    animation: deliveryPulse 2s infinite;
  }

  @keyframes deliveryPulse {
    0%, 100% { 
      opacity: 1; 
      transform: scale(1);
    }
    50% { 
      opacity: 0.9; 
      transform: scale(1.05);
    }
  }

  /* Ensure banner content doesn't have unwanted backgrounds */
  .banner-content * {
    background: transparent !important;
  }

  .banner-slider-content p {
    background: transparent !important;
  }
  
  .card-hover {
    transition: all 0.3s ease;
  }

  .card-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px hsl(0 0% 0% / 0.1);
  }

  .floating-elements {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  .agent-purple {
    color: var(--agent-purple);
  }

  .bg-agent-purple {
    background-color: var(--agent-purple);
  }

  .electric-green {
    color: var(--electric-green);
  }

  .bg-electric-green {
    background-color: var(--electric-green);
  }

  .bright-orange {
    color: var(--bright-orange);
  }

  .bg-bright-orange {
    background-color: var(--bright-orange);
  }

  /* Enhanced Page Transitions */
  .page-transition {
    animation: pageSlideIn 400ms ease-out;
  }

  @keyframes pageSlideIn {
    0% { 
      opacity: 0; 
      transform: translateY(20px); 
    }
    100% { 
      opacity: 1; 
      transform: translateY(0); 
    }
  }

  /* Fade-in animation for content */
  .fade-in {
    animation: fadeIn 600ms ease-out forwards;
  }

  .fade-in-delayed {
    animation: fadeIn 600ms ease-out 200ms forwards;
    opacity: 0;
  }

  @keyframes fadeIn {
    0% { opacity: 0; transform: translateY(10px); }
    100% { opacity: 1; transform: translateY(0); }
  }

  /* Enhanced Card Animations */
  .card-scale {
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .card-scale:hover {
    transform: scale(1.02);
    box-shadow: 0 20px 40px hsl(0 0% 0% / 0.1);
  }

  .card-scale:active {
    transform: scale(0.98);
  }

  /* Skeleton Loading Animation */
  .skeleton {
    background: linear-gradient(90deg, 
      hsl(var(--muted)) 25%, 
      hsl(var(--muted-foreground) / 0.1) 50%, 
      hsl(var(--muted)) 75%);
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s infinite;
  }

  @keyframes skeleton-loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  /* Smooth Button Animations */
  .button-smooth {
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .button-smooth::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 600ms;
  }

  .button-smooth:hover::before {
    left: 100%;
  }

  .button-smooth:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px hsl(var(--primary) / 0.3);
  }

  .button-smooth:active {
    transform: translateY(0);
  }

  /* Splash Screen Animations */
  .splash-fade-in {
    animation: splashFadeIn 800ms ease-out;
  }

  .splash-fade-out {
    animation: splashFadeOut 500ms ease-in forwards;
  }

  @keyframes splashFadeIn {
    0% { 
      opacity: 0; 
      transform: scale(0.8);
    }
    100% { 
      opacity: 1; 
      transform: scale(1);
    }
  }

  @keyframes splashFadeOut {
    0% { 
      opacity: 1; 
      transform: scale(1);
    }
    100% { 
      opacity: 0; 
      transform: scale(1.1);
    }
  }

  /* Enhanced Gradient Hero with improved animation */
  .gradient-hero {
    background: linear-gradient(135deg, 
      var(--gradient-start) 0%, 
      var(--gradient-middle) 50%, 
      var(--gradient-end) 100%);
    position: relative;
    overflow: hidden;
  }

  /* Logo pulse animation for splash screen */
  .logo-pulse {
    animation: logoPulse 2s ease-in-out infinite;
  }

  @keyframes logoPulse {
    0%, 100% { 
      opacity: 1; 
      transform: scale(1);
    }
    50% { 
      opacity: 0.8; 
      transform: scale(1.1);
    }
  }

  /* Stagger animation for lists */
  .stagger-item {
    animation: staggerIn 400ms ease-out forwards;
    opacity: 0;
  }

  .stagger-item:nth-child(1) { animation-delay: 0ms; }
  .stagger-item:nth-child(2) { animation-delay: 100ms; }
  .stagger-item:nth-child(3) { animation-delay: 200ms; }
  .stagger-item:nth-child(4) { animation-delay: 300ms; }
  .stagger-item:nth-child(5) { animation-delay: 400ms; }

  @keyframes staggerIn {
    0% { 
      opacity: 0; 
      transform: translateY(20px); 
    }
    100% { 
      opacity: 1; 
      transform: translateY(0); 
    }
  }

  /* Loading bar animation for splash screen */
  .loading-bar {
    animation: loading-bar 2s ease-in-out infinite;
  }

  @keyframes loading-bar {
    0% { 
      transform: translateX(-100%); 
    }
    50% { 
      transform: translateX(0%); 
    }
    100% { 
      transform: translateX(100%); 
    }
  }

  /* Fixed animation delay classes */
  .animation-delay-200 {
    animation-delay: 200ms;
  }
  
  .animation-delay-400 {
    animation-delay: 400ms;
  }
  
  .animation-delay-600 {
    animation-delay: 600ms;
  }
}
